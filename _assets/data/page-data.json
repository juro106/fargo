[{"title":"draft test","description":"draft test","tags":["test","go"],"links":null,"DateP":"2021-06-28","datePublished":"2021-06-28T03:13:47+09:00","DateM":"2021-07-08","dateModified":"2021-07-08T03:42:10+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"draft_test","permalink":"https://sa.sasasa.org/draft_test/","summary":"","summaryHTML":"draft test","Thumnail":false,"Dst":"_site/draft_test/index.html","Body":"\u003col\u003e\n\u003cli\u003eDo it!!!\u003c/li\u003e\n\u003cli\u003eDo it!!!\u003c/li\u003e\n\u003cli\u003eDo it!!!\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003edraftのテスト成功\u003c/p\u003e\n\u003cp\u003eなぜかスマホの chrome のキャッシュがクリアされない…\u003c/p\u003e\n\u003cp\u003edeploy 失敗。多分、dist ディレクトリ を ignore すれば良い\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"WebSocket と Live Reload","description":"Live Reload を実現するためには？","tags":["cms","go","javascript"],"links":null,"DateP":"2021-07-06","datePublished":"2021-07-06T22:22:37+09:00","DateM":"2021-07-07","dateModified":"2021-07-07T22:35:39+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"websocket-livereload","permalink":"https://sa.sasasa.org/websocket-livereload/","summary":"","summaryHTML":"Live Reload を実現するためには？","Thumnail":false,"Dst":"_site/websocket-livereload/index.html","Body":"\u003cp\u003e色々とやり方はあるようだけれども、自分の環境に合うやつというのは案外なかったりする。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e静的サイトジェネレーターの下書きのときに使いたい\n\u003cul\u003e\n\u003cli\u003e記事を書いているときジェネレーターを作っているときではない。\u003c/li\u003e\n\u003cli\u003emarkdown の1ファイルを監視するのとは多分ちょっと違う\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eローカルサーバーが見ているのは golang の Map\n\u003cul\u003e\n\u003cli\u003edeploy 先のディレクトリ（\u003ccode\u003e_site\u003c/code\u003eとか\u003ccode\u003edist\u003c/code\u003e）以下のファイル群ではない\u003c/li\u003e\n\u003cli\u003e各ページの HTML にリロード用の javascript を埋め込むため\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e結局 HUGO のような仕組みを作るしかなさそう…\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eファイルの変更を監視 ← local server\u003c/li\u003e\n\u003cli\u003e変更があったら build する ← local server\u003c/li\u003e\n\u003cli\u003ebuild されたら reload する ← client\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e簡単に出来そうで出来ない。\u003c/p\u003e\n\u003cp\u003eファイルに変更から build への流れが意外と難しい。build が2回呼ばれたりしてエラーになる。\u003c/p\u003e\n\u003ch2\u003e仕組み（机上の空論）\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e1度 build() が呼ばれたら、他に何かイベントが発生してもスルー。\u003c/li\u003e\n\u003cli\u003ebuild() が呼ばれたら何かしらのフラグを立てる building など\u003c/li\u003e\n\u003cli\u003ebuild() が呼ばれたら何かしらのフラグを立てる building など\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれで良いのかわからんが動いている。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"3番目のページ","description":"これは投稿ページ③です。","tags":["投稿","hogehoge"],"links":null,"DateP":"2021-06-05","datePublished":"2021-06-05T14:40:34+09:00","DateM":"2021-07-06","dateModified":"2021-07-06T22:10:14+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"003","permalink":"https://sa.sasasa.org/003/","summary":"","summaryHTML":"これは投稿ページ③です。","Thumnail":false,"Dst":"_site/003/index.html","Body":"\u003cp\u003egithub を経由した同期に成功。これでスマホからも更新できる。\u003c/p\u003e\n\u003cp\u003eとはいえ、そこまで手軽じゃないので利用機会は限られる模様。\u003c/p\u003e\n\u003cp\u003eしかし、できる状態にあることに意味があるとしよう。\u003c/p\u003e\n\u003cp\u003eserver test\u003c/p\u003e\n\u003cp\u003eserver test\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"animals","description":"動物たちと大きな木","tags":["雑記"],"links":null,"DateP":"2021-07-04","datePublished":"2021-07-04T01:10:52+09:00","DateM":"2021-07-04","dateModified":"2021-07-04T01:17:11+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"animals","permalink":"https://sa.sasasa.org/animals/","summary":"\u003cimg src=\"/img/animals_with_tree.png\" alt=\"動物たちと大きな木\" decoding=\"async\"\u003e","summaryHTML":"\u003cimg src=\"/img/animals_with_tree.png\" alt=\"動物たちと大きな木\" decoding=\"async\"\u003e","Thumnail":true,"Dst":"_site/animals/index.html","Body":"\u003cimg src=\"/img/animals_with_tree.png\" alt=\"動物たちと大きな木\" decoding=\"async\"\u003e\n\u003cp\u003e動物たちと大きな木\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"一覧リスト冒頭問題","description":"一覧リストの冒頭の表示問題。うまいやり方が思いつかない。","tags":["cms"],"links":null,"DateP":"2021-07-03","datePublished":"2021-07-03T06:37:34+09:00","DateM":"2021-07-03","dateModified":"2021-07-03T06:41:54+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"header-summary","permalink":"https://sa.sasasa.org/header-summary/","summary":"","summaryHTML":"一覧リストの冒頭の表示問題。うまいやり方が思いつかない。","Thumnail":false,"Dst":"_site/header-summary/index.html","Body":"\u003cul\u003e\n\u003cli\u003e結局めんどくさいから適当になりがち。「基本は meta description でいいや」となりそう。\u003c/li\u003e\n\u003cli\u003e今もすでにめんどくさい。本当は description にコピペのもめんどくさい。\u003c/li\u003e\n\u003cli\u003e画像のサムネイル表示など、最低限の特殊仕様に対応できるようにしておけば良いか…\u003c/li\u003e\n\u003cli\u003e一番良いのは markdown 冒頭をうまいことカットする方法。しかしこれがわからない。\n\u003cul\u003e\n\u003cli\u003eいつか思いつく（出会う）と信じたい。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"関連コンテンツ的なあれに載せる冒頭部分の問題","description":"関連コンテンツ的なあれに載せる冒頭部分をどうするか。意外と難しい...","tags":["cms","web"],"links":null,"DateP":"2021-07-02","datePublished":"2021-07-02T00:53:42+09:00","DateM":"2021-07-02","dateModified":"2021-07-02T01:28:54+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"show-summary-problems","permalink":"https://sa.sasasa.org/show-summary-problems/","summary":"あちらが立てばこちらが立たず。落とし所が難しい。\n諦めるのも悔しい…。\nどうにかして打開策を見つけたい。","summaryHTML":"あちらが立てばこちらが立たず。落とし所が難しい。\u003cbr\u003e諦めるのも悔しい…。\u003cbr\u003eどうにかして打開策を見つけたい。","Thumnail":false,"Dst":"_site/show-summary-problems/index.html","Body":"\u003cul\u003e\n\u003cli\u003eタイル状に並べる関連コンテンツ的なあれの description  部分の表示問題。\u003c/li\u003e\n\u003cli\u003eある程度カッチリ操作できる方が良いが、あまりにめんどくさい仕様だと使わなくなるのが目に見えているのでバランスが難しい。\u003c/li\u003e\n\u003cli\u003eファジーな感じにすると build の処理が複雑で大変。現状の力では手に負えない。速度も落ちるのでなるべくシンプルにしたい。\n\u003cul\u003e\n\u003cli\u003e閉じタグや markdown の記号を消す作業が必要。もはや parser\u003c/li\u003e\n\u003cli\u003ebuild を簡単にすると今度はコンテンツ作成時の手間が増える。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e苦しいパターン\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e文字数、あるいは行数でカットする。→閉じタグが絡むとややこしい。表示崩れを誘発\n\u003cul\u003e\n\u003cli\u003e「冒頭に html タグが絡むものを書かないようにする」とかいう謎の縛りが生まれてしまう。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e全文描写して css で隠す。→量が増えると素のHTMLでも表示速度がガクッと落ちる。\n\u003cul\u003e\n\u003cli\u003e非現実的である。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e良いかもパターン\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003efront matter に項目(summary) などを用意して書く\n\u003cul\u003e\n\u003cli\u003eめんどくさいが確実。\u003c/li\u003e\n\u003cli\u003eもし sumarry がなければ description を使う。description が空ならそのまま空。\u003c/li\u003e\n\u003cli\u003emarkdown ではなく、もはや yaml を使いこなす方向へ行ってしまうが。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003emeta description をそのまま\n\u003cul\u003e\n\u003cli\u003e味気ないしめんどくさいが確実。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eまとめ\u003c/h3\u003e\n\u003cp\u003esummary と 本文で記法が違うのはなんか本末転倒な気がする。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"Good Bye","description":"改行\\nと空白 空白 \u0026nbsp; 改行\\r Dos\\r\\n","tags":["投稿","greet"],"links":null,"DateP":"2021-06-05","datePublished":"2021-06-05T14:40:34+09:00","DateM":"2021-07-01","dateModified":"2021-07-01T16:14:45+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"good_bye","permalink":"https://sa.sasasa.org/good_bye/","summary":"","summaryHTML":"改行\\nと空白 空白 \u0026nbsp; 改行\\r Dos\\r\\n","Thumnail":false,"Dst":"_site/good_bye/index.html","Body":"\u003cp\u003eGood bye\u003c/p\u003e\n\u003cp\u003e\\r\\n\\r\\n\n\\n\\n\\n\\n\nどうなるかやってみないとわからない\u003cbr\u003e\n末尾に空白2つ\u003cbr\u003e\n後方置換\u003c/p\u003e\n\u003cp\u003ebye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye, bye,\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ebye\u003c/li\u003e\n\u003cli\u003ebye\u003c/li\u003e\n\u003cli\u003ebye\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eGood bye\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cem\u003ehello\u003c/em\u003e ← 斜体\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehello\u003c/strong\u003e ← 太字\u003c/li\u003e\n\u003cli\u003e\u003cem\u003ehello\u003c/em\u003e ← 太字\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehello\u003c/strong\u003e ← 太字\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eテーブル\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:left\"\u003ebey\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003ebey\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ebey\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cdiv class=\"hey\"\u003e\n  areareare\n\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e引用\nこれは\n引用です。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote class=\"hoge\"\u003e\nこれも引用\n\u003c/blockquote\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"test","description":"英語と日本語、両方用意してしまうこともある。","tags":null,"links":null,"DateP":"2021-06-08","datePublished":"2021-06-08T19:25:56+09:00","DateM":"2021-06-28","dateModified":"2021-06-28T03:42:44+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"test","permalink":"https://sa.sasasa.org/test/","summary":"","summaryHTML":"英語と日本語、両方用意してしまうこともある。","Thumnail":false,"Dst":"_site/test/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/tag.js?4e73668caef636b5fb129ae59541514b","IsServer":true},{"title":"2番目のページ","description":"これは2番目に作られたページです。","tags":["投稿","number"],"links":null,"DateP":"2021-06-05","datePublished":"2021-06-05T14:40:34+09:00","DateM":"2021-06-28","dateModified":"2021-06-28T02:53:18+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"002","permalink":"https://sa.sasasa.org/002/","summary":"","summaryHTML":"これは2番目に作られたページです。","Thumnail":false,"Dst":"_site/002/index.html","Body":"\u003cp\u003eこれは2番目の投稿です。\u003c/p\u003e\n\u003ch2\u003e見出し2\u003c/h2\u003e\n\u003cp\u003e当初の目的は、サクサクかつメモ代わりに記事投稿が出来て、タグによってぐるぐるサイト内巡回できるようなもの半分ブログのようなものを作ることだった。\u003c/p\u003e\n\u003cp\u003eやり始めると色々なことが気になりだして手間取る。\u003c/p\u003e\n\u003ch3\u003eこれは見出し3です。\u003c/h3\u003e\n\u003cp\u003eなんだかんだで見た目が気になっていじると時間を浪費する。\u003c/p\u003e\n\u003ch4\u003e見出し4\u003c/h4\u003e\n\u003cp\u003e終わり\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"Number","description":"Number","tags":null,"links":null,"DateP":"2021-06-08","datePublished":"2021-06-08T19:25:56+09:00","DateM":"2021-06-26","dateModified":"2021-06-26T19:26:41+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"number","permalink":"https://sa.sasasa.org/number/","summary":"","summaryHTML":"Number","Thumnail":false,"Dst":"_site/number/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/tag.js?4e73668caef636b5fb129ae59541514b","IsServer":true},{"title":"","description":"","tags":[""],"links":null,"DateP":"2021-06-08","datePublished":"2021-06-08T19:25:56+09:00","DateM":"2021-06-08","dateModified":"2021-06-08T20:06:59+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"雑記","permalink":"https://sa.sasasa.org/雑記/","summary":"","summaryHTML":"","Thumnail":false,"Dst":"_site/雑記/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/tag.js?4e73668caef636b5fb129ae59541514b","IsServer":true},{"title":"","description":"","tags":[""],"links":null,"DateP":"2021-06-08","datePublished":"2021-06-08T19:25:56+09:00","DateM":"2021-06-08","dateModified":"2021-06-08T20:06:59+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"javascript","permalink":"https://sa.sasasa.org/javascript/","summary":"","summaryHTML":"","Thumnail":false,"Dst":"_site/javascript/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/tag.js?4e73668caef636b5fb129ae59541514b","IsServer":true},{"title":"","description":"","tags":[""],"links":null,"DateP":"2021-06-08","datePublished":"2021-06-08T19:25:56+09:00","DateM":"2021-06-08","dateModified":"2021-06-08T20:06:59+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"movie","permalink":"https://sa.sasasa.org/movie/","summary":"","summaryHTML":"","Thumnail":false,"Dst":"_site/movie/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/tag.js?4e73668caef636b5fb129ae59541514b","IsServer":true},{"title":"","description":"","tags":[""],"links":null,"DateP":"2021-06-08","datePublished":"2021-06-08T19:25:56+09:00","DateM":"2021-06-08","dateModified":"2021-06-08T20:06:59+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"drama","permalink":"https://sa.sasasa.org/drama/","summary":"","summaryHTML":"","Thumnail":false,"Dst":"_site/drama/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/tag.js?4e73668caef636b5fb129ae59541514b","IsServer":true},{"title":"cms 作成記録","description":"cms を作成する上で気づいたこと、プログラミングのメモ。","tags":["雑記","cms","go"],"links":null,"DateP":"2021-07-03","datePublished":"2021-07-03T04:55:22+09:00","DateM":"2021-07-04","dateModified":"2021-07-04T03:08:33+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"cms-diary","permalink":"https://sa.sasasa.org/cms-diary/","summary":"","summaryHTML":"cms を作成する上で気づいたこと、プログラミングのメモ。","Thumnail":false,"Dst":"_site/cms-diary/index.html","Body":"\u003cp\u003ego で cms を自作。自作とは言っても、結局は先人（巨人）が築き上げてきたライブラリ、モジュール、パーツの寄せ集めであり、そこまでいばれるものではない。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://scrapbox.io\"\u003escrapbox\u003c/a\u003e とブログが 3:7 で混ざったような静的サイトジェネレーターを作りたい。\u003c/li\u003e\n\u003cli\u003e表示はもちろん、 build を超高速にしたいので golang を勉強中。\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/mattn/jedie\"\u003ejedie\u003c/a\u003eを参考に、少しずつ解読していじくり回している感じ。\u003c/li\u003e\n\u003cli\u003eリンクを張り巡らせたい。\u003c/li\u003e\n\u003cli\u003emarkdown の parser は \u003ca href=\"https://github.com/yuin/goldmark\"\u003egoldmark\u003c/a\u003eを使わせてもらっている。\u003c/li\u003e\n\u003cli\u003e普段は \u003ca href=\"https://github.com/gohugoio/hugo\"\u003ehugo\u003c/a\u003e も使っている。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e2021-07-03\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eとりあえず build 速度はかなりマシになった\u003c/li\u003e\n\u003cli\u003e一覧の冒頭部分を短くした。やはり単純にHTMLの量に左右される部分が大きい。\n\u003cul\u003e\n\u003cli\u003ejavascript にせよ、go(cmsのメイン) にせよ、細かい計算のコストは大したことない。\u003c/li\u003e\n\u003cli\u003ego の並行処理がちょっとわかってきた。ディレクトリ内のファイルを走査してデータをかき集めて Map や Slice を作るときや、最後のファイル書き込みに使うと良いっぽい。\u003c/li\u003e\n\u003cli\u003e同時書き込みを防ぐための記述も少しわかった。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003escrapbox の機能にある、行をまるごとを上下に移動させるやつが気持ち良い。\n\u003cul\u003e\n\u003cli\u003e早速 Vim で \u003ccode\u003e\u0026lt;C-Up\u0026gt;\u003c/code\u003e \u003ccode\u003e\u0026lt;C-Down\u0026gt;\u003c/code\u003e  割り当てた。 \u003ccode\u003e\u0026lt;C-j\u0026gt;\u003c/code\u003e \u003ccode\u003e\u0026lt;C-k\u0026gt;\u003c/code\u003e はちょっともったいないので使えない。\u003c/li\u003e\n\u003cli\u003e実際に文章を書くとなるとやはり Vim は色々都合が良い。\u003c/li\u003e\n\u003cli\u003e気持ち良いだけで、そこまで頻繁に使うものでもないかもしれない。結局 dd でやってしまう。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e※\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e全文検索は自分のために欲しい\u003c/li\u003e\n\u003c/ul\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"本番用 と 開発用 でやることの違い","description":"build と server でやることの違い","tags":["cms","go"],"links":null,"DateP":"2021-07-05","datePublished":"2021-07-05T04:43:48+09:00","DateM":"2021-07-05","dateModified":"2021-07-05T05:35:38+09:00","draft":true,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"build-server","permalink":"https://sa.sasasa.org/build-server/","summary":"","summaryHTML":"build と server でやることの違い","Thumnail":false,"Dst":"_site/build-server/index.html","Body":"","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"markdown→htmlのテスト","description":"markdown から html への変換テスト","tags":["cms","markdown"],"links":null,"DateP":"2021-06-30","datePublished":"2021-06-30T15:42:56+09:00","DateM":"2021-07-04","dateModified":"2021-07-04T04:54:48+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"markdown_html_test","permalink":"https://sa.sasasa.org/markdown_html_test/","summary":"コードチェック \u003cpre\u003e\u003ccode\u003e$ echo \"hello\"\u003c/code\u003e\u003c/pre\u003e あいうえおかきくけこさしすせそたちつてと abcdefghijklmnopqrstuvwxyz","summaryHTML":"コードチェック \u003cpre\u003e\u003ccode\u003e$ echo \"hello\"\u003c/code\u003e\u003c/pre\u003e あいうえおかきくけこさしすせそたちつてと abcdefghijklmnopqrstuvwxyz","Thumnail":false,"Dst":"_site/markdown_html_test/index.html","Body":"\u003cp\u003eコード\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ echo \"hello\"\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e'use strict';\nconst main = () =\u0026gt; {\n\n  const list = ['hoge', 'fuga', 'piyo'];\n  const hoge = list.forEach(v =\u0026gt; {\n    if (v == 'hoge') {\n      return v;\n    }\n  });\n\n  const greet = (arg) =\u0026gt; {\n    const greet = `Hello!! ${arg}`;\n    return greet;\n  }\n  \n  greet(hoge);\n} \n\ndocument.addEventListener('DOMContentLoaded', main);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode\u003e  words := \u0026quot;abcdefghijklmnopqrstuvwxyz\u0026quot;\n  var number = 1234567890\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eリスト 見出し2\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e番号リスト\u003c/li\u003e\n\u003cli\u003e番号リスト\u003c/li\u003e\n\u003cli\u003e番号リスト\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e直接 HTML をかけるようにしておきたい\n\u003cul\u003e\n\u003cli\u003eテーブルはどっちでも良いがあればあったで良い\n\u003cul\u003e\n\u003cli\u003eリストは綺麗にインデントされてほしい\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e太字\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cem\u003ehello\u003c/em\u003e ← 斜体\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehello\u003c/strong\u003e ← 太字\u003c/li\u003e\n\u003cli\u003e\u003cem\u003ehello\u003c/em\u003e ← 斜体\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehello\u003c/strong\u003e ← 太字\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eテーブル\u003c/h3\u003e\n\u003cp\u003e左寄せ\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:left\"\u003ecountry\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003elanguage\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e日本 Japana\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e日本語 Japanese\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003eアメリカ US\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEnglish\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003eイギリス UK\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEnglish\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e中国 China\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e中国語 Chinese\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003eスペイン ES\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eスペイン語 español\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e右寄せ\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:right\"\u003ecountry\u003c/th\u003e\n\u003cth style=\"text-align:right\"\u003elanguage\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:right\"\u003e日本 Japana\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e日本語 Japanese\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:right\"\u003eアメリカ US\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003eEnglish\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:right\"\u003eイギリス UK\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003eEnglish\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:right\"\u003e中国 China\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e中国語 Chinese\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:right\"\u003eスペイン ES\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003eスペイン語 español\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e中央寄せ\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:center\"\u003ecountry\u003c/th\u003e\n\u003cth style=\"text-align:center\"\u003elanguage\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:center\"\u003e日本 Japana\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e日本語 Japanese\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:center\"\u003eアメリカ US\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eEnglish\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:center\"\u003eイギリス UK\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eEnglish\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:center\"\u003e中国 China\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e中国語 Chinese\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:center\"\u003eスペイン ES\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eスペイン語 español\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003e引用\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e引用\nこれは\n引用です。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003e直接 HTML\u003c/h4\u003e\n\u003ch5\u003ediv\u003c/h5\u003e\n\u003cdiv class=\"hey\"\u003e\n  areareare\n\u003c/div\u003e\n\u003cp\u003ecode?\nhello?\u003c/p\u003e\n\u003ch5\u003e引用\u003c/h5\u003e\n\u003cblockquote class=\"hoge\"\u003e\nこれも引用\n\u003c/blockquote\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"実験用","description":"これはコピーの元になるページ","tags":["cms","test","web","greet","bash","linux","投稿"],"links":["001","002","003"],"DateP":"2021-07-02","datePublished":"2021-07-02T01:29:40+09:00","DateM":"2021-07-05","dateModified":"2021-07-05T01:23:58+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"origin","permalink":"https://sa.sasasa.org/origin/","summary":"※これは本物です。\nコピーではありません。\nmarkdown よりも yaml\n当初の目的からズレ始めている。\njavascript との戦いも始まってしまった。","summaryHTML":"※これは本物です。\u003cbr\u003eコピーではありません。\u003cbr\u003emarkdown よりも yaml\u003cbr\u003e当初の目的からズレ始めている。\u003cbr\u003ejavascript との戦いも始まってしまった。","Thumnail":false,"Dst":"_site/origin/index.html","Body":"\u003cp\u003eテスト猛然とテスト\u003c/p\u003e\n\u003cp\u003eデータ収集の工程も並行処理にしたら倍速になった...\u003c/p\u003e\n\u003cp\u003elive reload のやり方がわからん。ファイルの場所と、サーバーが示すアドレスというのは単純に同じではないということ？\u003c/p\u003e\n\u003cp\u003ecss が変わると止まってしまう…\u003c/p\u003e\n\u003cp\u003e文章だけなら大丈夫っぽいな。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"ミニマルとは","description":"ミニマルとは","tags":["cms"],"links":null,"DateP":"2021-07-04","datePublished":"2021-07-04T01:37:45+09:00","DateM":"2021-07-04","dateModified":"2021-07-04T03:03:17+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"minimalism-1","permalink":"https://sa.sasasa.org/minimalism-1/","summary":"","summaryHTML":"ミニマルとは","Thumnail":false,"Dst":"_site/minimalism-1/index.html","Body":"\u003cul\u003e\n\u003cli\u003e必要最低限なミニマルなデザインを目指したいが大概破綻する。\u003c/li\u003e\n\u003cli\u003e結局 JavaScript を入れざるを得なかった。\u003c/li\u003e\n\u003cli\u003ediv の入れ子を減らそうとしたり、 css の数も減らしたいがなかなか難しい。\u003c/li\u003e\n\u003cli\u003egrid の両端の調節が難しい。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eきちんとした(?) live reload 的なものが欲しくなってきた。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"タグを関連付けるアルゴリズム？","description":"ウェブサイトのタグやカテゴリーを表示させるあれこれに関して","tags":["投稿","テスト"],"links":null,"DateP":"2021-06-05","datePublished":"2021-06-05T14:40:34+09:00","DateM":"2021-07-08","dateModified":"2021-07-08T03:59:45+09:00","draft":false,"home":false,"fixed":false,"code":true,"option":null,"layout":"","slug":"001","permalink":"https://sa.sasasa.org/001/","summary":"","summaryHTML":"ウェブサイトのタグやカテゴリーを表示させるあれこれに関して","Thumnail":false,"Dst":"_site/001/index.html","Body":"\u003cul\u003e\n\u003cli\u003e記事が持っているタグのリスト\u003c/li\u003e\n\u003cli\u003eタグが持っている記事のリスト\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eとある記事のページのファイルがタグのデータを持っているならば、タグに紐づく記事一覧を表示できる。\u003c/p\u003e\n\u003cp\u003eしかし、markdown作成時の段階でわかるのは、各ページが何のタグを持っているかということだけであり、各タグに紐づくのがどのページかまではわからない。\u003c/p\u003e\n\u003cp\u003eたとえば、Radiohead のページにつけられたタグ（ないしはカテゴリー）が rock と uk だとして、他の rock に所属するページはどうやって表示させれば良いのだろうか？\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// それぞれのページが保有するタグ\ntag-belong-to-page = {\n  \u0026quot;beatles\u0026quot;: [\u0026quot;rock\u0026quot;, \u0026quot;uk\u0026quot;]\n  \u0026quot;radiohead\u0026quot;: [\u0026quot;rock\u0026quot;, \u0026quot;uk\u0026quot;, \u0026quot;alternative\u0026quot;]\n  \u0026quot;nirvana\u0026quot;: [\u0026quot;rock\u0026quot;, \u0026quot;us\u0026quot;, \u0026quot;alternative\u0026quot;]\n  \u0026quot;velvet-underground\u0026quot;: [\u0026quot;rock\u0026quot;, \u0026quot;us\u0026quot;, \u0026quot;alternative\u0026quot;]\n  \u0026quot;sonic-youth\u0026quot;: [\u0026quot;rock\u0026quot;, \u0026quot;us\u0026quot;, \u0026quot;alternative\u0026quot;]\n}\n// それぞれのタグが保有するページ\npage-belong-to-tag = {\n  \u0026quot;rock\u0026quot;: [\u0026quot;beatles\u0026quot;, \u0026quot;radiohead\u0026quot;, \u0026quot;nirvana\u0026quot;, \u0026quot;velvet-underground\u0026quot;, \u0026quot;sonic-youth\u0026quot;],\n  \u0026quot;alternative\u0026quot;: [\u0026quot;radiohead\u0026quot;, \u0026quot;nirvana\u0026quot;, \u0026quot;velvet-underground\u0026quot;, \u0026quot;sonic-youth\u0026quot;],\n  \u0026quot;us\u0026quot;: [\u0026quot;nirvana\u0026quot;, \u0026quot;velvet-underground\u0026quot;, \u0026quot;sonic-youth\u0026quot;],\n  \u0026quot;uk\u0026quot;: [\u0026quot;beatles\u0026quot;, \u0026quot;radiohead\u0026quot;],\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eなんだかめんどくさそうだ。ループしまくる方法しか思いつかない。\u003c/p\u003e\n\u003cp\u003e今のところ、build するときに全ページのタイトルや url、 ページの内容から何から何まで突っ込んだ json ファイルを用意して、そこから引っ張ってくることにしている。\u003c/p\u003e\n\u003cp\u003eRadiohead が uk なのはわかっている。Radioheadのページファイルは自分が uk 所属であることを知っている。\u003c/p\u003e\n\u003cp\u003eだから uk というキーワードを使って 全ページ分データから仲間を探しに行く。見つかったら表示させる。\u003c/p\u003e\n\u003cp\u003eお察しの通り、1つのページに所属するタグが1つとは限らないし、1つのタグに所属するページも複数あったりする。\u003c/p\u003e\n\u003cp\u003eしかも最初に使う「Radiohead は uk ですよ」という情報ですら、1回全ページデータへアクセスしなければ取得できない。\u003c/p\u003e\n\u003cp\u003eこれはループにループを重ねているので遅いと思う。わかっている。わかっているんだ。\u003c/p\u003e\n\u003ch2\u003e事前にやるのか後でやるのか\u003c/h2\u003e\n\u003cp\u003ego の自家製 cms で、build の際にタグページも全部作るやり方でやったら500ページで4秒かかってしまう。for が何回も出てくるとはいえ、やり方が悪いのだろう。\u003c/p\u003e\n\u003cp\u003e一旦記事ページを総ざらししてそれぞれのタグを拾った後、今度はそれぞれのタグに当てはまる他の記事ページはどれかな？という工程が必要なのだから仕方ないのかもしれない。\u003c/p\u003e\n\u003cp\u003eこういうときこそアルゴリズム？を工夫するとなんとかなりそう。\u003c/p\u003e\n\u003cp\u003eしかし、特になんの工夫もせずほぼストレートにページを生成する（markdown→html）のであれば、0コンマ何秒...というか build したのか気づかないくらい速い。\u003c/p\u003e\n\u003cp\u003eさらに、タグページは javascript で表示させてしまうほうが今のところは手軽に感じている。事前生成が良いのだろうけれど。うまい方法が思いつかない。\u003c/p\u003e\n\u003ch3\u003e本当に必要なのか\u003c/h3\u003e\n\u003cp\u003eこれまでタグページというのはあまり注目してこなかった。他人のブログを見ていてもタグクラウドなどクリックする気が起きなかった。\u003c/p\u003e\n\u003cp\u003eしかし、scrapbox を使うようになってからというもの、タグが気になって仕方がない。見せ方次第で、繋げ方次第でこんなに違うものかと驚愕している。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"リストのインデントは何文字が最適か？","description":"HTML のリストのインデントはどれくらいズレるのが見やすいのか？","tags":["cms"],"links":null,"DateP":"2021-07-04","datePublished":"2021-07-04T04:24:16+09:00","DateM":"2021-07-04","dateModified":"2021-07-04T04:45:21+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"list-indent","permalink":"https://sa.sasasa.org/list-indent/","summary":"","summaryHTML":"HTML のリストのインデントはどれくらいズレるのが見やすいのか？","Thumnail":false,"Dst":"_site/list-indent/index.html","Body":"\u003cul\u003e\n\u003cli\u003escrapbox は実はリストがリストじゃないし、行頭の・が微妙に大きい。\n\u003cul\u003e\n\u003cli\u003eリストのインデントがどれだけズレるかは意外と重要かもしれない。\u003c/li\u003e\n\u003cli\u003eきっちり2文字分じゃないほうがよいのかもしれない。\u003c/li\u003e\n\u003cli\u003eきちんとズレている感じがして良いのかも\u003c/li\u003e\n\u003cli\u003e3文字ぐらいが妥当？\u003c/li\u003e\n\u003cli\u003eとはいえ、エディタで編集しているときは（スペース2つ）でやっているので違和感がありそう。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eリストの先頭のマークをカスタマイズするのはよくあることらしいが、あまり凝っても仕方がない。\u003c/p\u003e\n\u003cp\u003emarkdown でHTMLを書かずにリストに class をつける方法はあるのだろうか。\u003c/p\u003e\n\u003cp\u003egoldmark の parser option ならできる。\u003c/p\u003e\n\u003cp\u003eとはいえ毎回クラスをつけるのはめんどくさい。HTMLで書くのと何ら変わらない気もする。\u003c/p\u003e\n\u003cp\u003e手軽にやろうとするならデフォルトの設定を変えるくらいしか思いつかない。というか、そうじゃないと markdown を使う意味もないのではないだろうか。\u003c/p\u003e\n\u003cp\u003eむしろ、クラス名をつけるときは直接 HTML で書くというマイルールにしたほうがわかりやすいと思われる。\u003c/p\u003e\n\u003cp\u003ecss の class を頻繁に使うようになるならば markdown ではない何かを利用する手を考えたい。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"build 速度改善","description":"とりあえず build の速度は改善された","tags":["cms","雑記"],"links":null,"DateP":"2021-06-30","datePublished":"2021-06-30T04:06:41+09:00","DateM":"2021-06-30","dateModified":"2021-06-30T04:23:59+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"20210630","permalink":"https://sa.sasasa.org/20210630/","summary":"","summaryHTML":"とりあえず build の速度は改善された","Thumnail":false,"Dst":"_site/20210630/index.html","Body":"\u003cp\u003e取り敢えず build の速度は改善された。\u003c/p\u003e\n\u003cp\u003e最初は並行処理的なものに手をつけた。これは確かに効果があった。それでも20秒が10秒になった程度であり、根本的な解決には至らず。\u003c/p\u003e\n\u003cp\u003e結局時間がかかるのは量が多い普通のページ。\u003c/p\u003e\n\u003cp\u003eタグに紐づくページ一覧を一度作ったら HTML に保存しておいて、それを今度は普通の記事ページにドカドカ貼り付ける形にしたら一気に速くなった。\u003c/p\u003e\n\u003cp\u003e1000ページで10秒から20秒かかっていたものが、3秒前後に収まるようになった。まだ修正すべきところは多い。\u003c/p\u003e\n\u003ch3\u003e残る問題\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e一覧のタイルに載せるサマリー的な部分の表示方法。 overflow: hidden だけだといまいち。\u003c/li\u003e\n\u003cli\u003emarkdown の parser に goldmark を使っているが、オプションをつけないと色々足りない。しかし足すと速度が目に見えて落ちる...\u003c/li\u003e\n\u003cli\u003egolang の基本的なところが全然わからない。並行処理も適当なので基礎を学習する。\u003c/li\u003e\n\u003cli\u003e関係ないが git の使い方がよくわからない。ちょくちょく push で怒られる。\u003c/li\u003e\n\u003c/ul\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"MR. ROBOT ドラマ","description":"アメリカのドラマ MR. ROBOT","tags":["movie","drama"],"links":null,"DateP":"2021-06-28","datePublished":"2021-06-28T19:15:03+09:00","DateM":"2021-07-02","dateModified":"2021-07-02T15:10:40+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"mr-robot","permalink":"https://sa.sasasa.org/mr-robot/","summary":"","summaryHTML":"アメリカのドラマ MR. ROBOT","Thumnail":false,"Dst":"_site/mr-robot/index.html","Body":"\u003cp\u003e面白かった。\u003c/p\u003e\n\u003cp\u003e多重人格だけど本人に自覚がないから視聴者も騙されるパターン。\u003c/p\u003e\n\u003cp\u003e進撃の巨人の終盤はこういう感じにしたかったのかな？と思ったりもする。\u003c/p\u003e\n\u003cp\u003e人気ドラマは尻すぼみ問題がつきものだが、これは綺麗に畳んだと思う。当初からシーズン4で完結させる予定だったらしい。\u003c/p\u003e\n\u003cp\u003eそれにしてはやや冗長かな？と思うところもなくはなかったが、敢えてそれも込みというか、全体的にかなり好きな感じだった。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"関連コンテンツ的なあれに載せる冒頭部分の問題","description":"関連コンテンツ的なあれに載せる冒頭部分をどうするか。意外と難しい...","tags":["cms","web"],"links":null,"DateP":"2021-07-02","datePublished":"2021-07-02T00:53:42+09:00","DateM":"2021-07-02","dateModified":"2021-07-02T01:28:54+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"show-summary-problems","permalink":"https://sa.sasasa.org/show-summary-problems/","summary":"あちらが立てばこちらが立たず。落とし所が難しい。\n諦めるのも悔しい…。\nどうにかして打開策を見つけたい。","summaryHTML":"あちらが立てばこちらが立たず。落とし所が難しい。\u003cbr\u003e諦めるのも悔しい…。\u003cbr\u003eどうにかして打開策を見つけたい。","Thumnail":false,"Dst":"_site/show-summary-problems/index.html","Body":"\u003cul\u003e\n\u003cli\u003eタイル状に並べる関連コンテンツ的なあれの description  部分の表示問題。\u003c/li\u003e\n\u003cli\u003eある程度カッチリ操作できる方が良いが、あまりにめんどくさい仕様だと使わなくなるのが目に見えているのでバランスが難しい。\u003c/li\u003e\n\u003cli\u003eファジーな感じにすると build の処理が複雑で大変。現状の力では手に負えない。速度も落ちるのでなるべくシンプルにしたい。\n\u003cul\u003e\n\u003cli\u003e閉じタグや markdown の記号を消す作業が必要。もはや parser\u003c/li\u003e\n\u003cli\u003ebuild を簡単にすると今度はコンテンツ作成時の手間が増える。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e苦しいパターン\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e文字数、あるいは行数でカットする。→閉じタグが絡むとややこしい。表示崩れを誘発\n\u003cul\u003e\n\u003cli\u003e「冒頭に html タグが絡むものを書かないようにする」とかいう謎の縛りが生まれてしまう。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e全文描写して css で隠す。→量が増えると素のHTMLでも表示速度がガクッと落ちる。\n\u003cul\u003e\n\u003cli\u003e非現実的である。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e良いかもパターン\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003efront matter に項目(summary) などを用意して書く\n\u003cul\u003e\n\u003cli\u003eめんどくさいが確実。\u003c/li\u003e\n\u003cli\u003eもし sumarry がなければ description を使う。description が空ならそのまま空。\u003c/li\u003e\n\u003cli\u003emarkdown ではなく、もはや yaml を使いこなす方向へ行ってしまうが。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003emeta description をそのまま\n\u003cul\u003e\n\u003cli\u003e味気ないしめんどくさいが確実。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eまとめ\u003c/h3\u003e\n\u003cp\u003esummary と 本文で記法が違うのはなんか本末転倒な気がする。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true},{"title":"WebSocket と Live Reload","description":"Live Reload を実現するためには？","tags":["cms","go","javascript"],"links":null,"DateP":"2021-07-06","datePublished":"2021-07-06T22:22:37+09:00","DateM":"2021-07-07","dateModified":"2021-07-07T22:35:39+09:00","draft":false,"home":false,"fixed":false,"code":false,"option":null,"layout":"","slug":"websocket-livereload","permalink":"https://sa.sasasa.org/websocket-livereload/","summary":"","summaryHTML":"Live Reload を実現するためには？","Thumnail":false,"Dst":"_site/websocket-livereload/index.html","Body":"\u003cp\u003e色々とやり方はあるようだけれども、自分の環境に合うやつというのは案外なかったりする。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e静的サイトジェネレーターの下書きのときに使いたい\n\u003cul\u003e\n\u003cli\u003e記事を書いているときジェネレーターを作っているときではない。\u003c/li\u003e\n\u003cli\u003emarkdown の1ファイルを監視するのとは多分ちょっと違う\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eローカルサーバーが見ているのは golang の Map\n\u003cul\u003e\n\u003cli\u003edeploy 先のディレクトリ（\u003ccode\u003e_site\u003c/code\u003eとか\u003ccode\u003edist\u003c/code\u003e）以下のファイル群ではない\u003c/li\u003e\n\u003cli\u003e各ページの HTML にリロード用の javascript を埋め込むため\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e結局 HUGO のような仕組みを作るしかなさそう…\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eファイルの変更を監視 ← local server\u003c/li\u003e\n\u003cli\u003e変更があったら build する ← local server\u003c/li\u003e\n\u003cli\u003ebuild されたら reload する ← client\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e簡単に出来そうで出来ない。\u003c/p\u003e\n\u003cp\u003eファイルに変更から build への流れが意外と難しい。build が2回呼ばれたりしてエラーになる。\u003c/p\u003e\n\u003ch2\u003e仕組み（机上の空論）\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e1度 build() が呼ばれたら、他に何かイベントが発生してもスルー。\u003c/li\u003e\n\u003cli\u003ebuild() が呼ばれたら何かしらのフラグを立てる building など\u003c/li\u003e\n\u003cli\u003ebuild() が呼ばれたら何かしらのフラグを立てる building など\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれで良いのかわからんが動いている。\u003c/p\u003e\n","PageTag":null,"B2Page":null,"B2Pagelen":0,"Link2P":null,"Plist":null,"Plistlen":0,"Baseurl":"https://sa.sasasa.org/","PB2T":null,"Now":"2021-07-08T03:59:46+09:00","Css":"/css/style.css?c682468374b7ced423b58c2aea80dfde","Js":"/js/main.js?8fc6846237f1cbd9117915405932bbc8","IsServer":true}]