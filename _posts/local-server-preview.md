---
datePublished: '2021-07-05T03:48:37+09:00'
dateModified: '2021-07-05T04:02:51+09:00'
title: 'ローカルサーバー上のメモリ上にbuild'
description: 'HUGO のようにローカルサーバー上に build すれば livereload をいい感じに出来るのだろう'
tags:
  - cms
  - go
summary: |-

---

live reload が出来ない問題。

websocket やら何やら色々調べて試したが、どうやらあって欲しい状態に持っていくのは無理そうだ。

nodejs や vscode の エクステンションである live server などを使えば、静的サイトの下書きを live reload しながら作成できる。それはわかった。

しかし、自前の cms にその機能を持たせようとするとうまくいかない。

現状、結局は本番用に build したものを ローカルサーバーで見ているのである。だから下書き状態でも問答無用で build される。それは上手くない。

livereload するためにはどうしても html に それ用の javascript を埋め込む必要があるらしい。かといって開発中のローカル環境でしか使われない javascript を 本番用の html に埋め込むわけにはいかない。

ローカル用のディレクトリと本番用のディレクトリを分けてもいいけれど容量2倍はなんだかバカバカしい。分けずにやって本番前にその都度消したりするのもアホらしい。

個人のブログでは実用上さほど問題になるわけでないのだけれど、それでも実現できるのであればやってみたい。

どうやら HUGO はメモリ上にページを作成して表示させているらしい。だから live reload が出来たりものすごいスピードで server が立ち上がるのだと思う。なんか不思議な感じがするなと思っていたが、今回そういうことだとわかって納得した。

遠回りしたが、目指すべきはそういうところなのだとようやく理解した。

色々調べている中で、go の net/http の使い方もわかってきたので良しとする。

