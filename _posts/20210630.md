---
title: 'build 速度改善'
description: 'とりあえず build の速度は改善された'
tags: ["cms", "雑記"]
datePublished: '2021-06-30T04:06:41+09:00'
dateModified: '2021-06-30T04:23:59+09:00'
---

取り敢えず build の速度は改善された。

最初は並行処理的なものに手をつけた。これは確かに効果があった。それでも20秒が10秒になった程度であり、根本的な解決には至らず。

結局時間がかかるのは量が多い普通のページ。

タグに紐づくページ一覧を一度作ったら HTML に保存しておいて、それを今度は普通の記事ページにドカドカ貼り付ける形にしたら一気に速くなった。

1000ページで10秒から20秒かかっていたものが、3秒前後に収まるようになった。まだ修正すべきところは多い。

### 残る問題

- 一覧のタイルに載せるサマリー的な部分の表示方法。 overflow: hidden だけだといまいち。
- markdown の parser に goldmark を使っているが、オプションをつけないと色々足りない。しかし足すと速度が目に見えて落ちる...
- golang の基本的なところが全然わからない。並行処理も適当なので基礎を学習する。
- 関係ないが git の使い方がよくわからない。ちょくちょく push で怒られる。

